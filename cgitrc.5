.\"     Title: cgitrc
.\"    Author: 
.\" Generator: DocBook XSL Stylesheets v1.73.2 <http://docbook.sf.net/>
.\"      Date: 02/12/2009
.\"    Manual: 
.\"    Source: 
.\"
.TH "CGITRC" "5" "02/12/2009" "" ""
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NAME"
cgitrc \- runtime configuration for cgit
.SH "SYNOPSIS"
Cgitrc contains all runtime settings for cgit, including the list of git repositories, formatted as a line\-separated list of NAME=VALUE pairs\&. Blank lines, and lines starting with \fI#\fR, are ignored\&.
.sp
.SH "GLOBAL SETTINGS"
.PP
agefile
.RS 4
Specifies a path, relative to each repository path, which can be used to specify the date and time of the youngest commit in the repository\&. The first line in the file is used as input to the "parse_date" function in libgit\&. Recommended timestamp\-format is "yyyy\-mm\-dd hh:mm:ss"\&. Default value: "info/web/last\-modified"\&.
.RE
.PP
cache\-root
.RS 4
Path used to store the cgit cache entries\&. Default value: "/var/cache/cgit"\&.
.RE
.PP
cache\-dynamic\-ttl
.RS 4
Number which specifies the time\-to\-live, in minutes, for the cached version of repository pages accessed without a fixed SHA1\&. Default value: "5"\&.
.RE
.PP
cache\-repo\-ttl
.RS 4
Number which specifies the time\-to\-live, in minutes, for the cached version of the repository summary page\&. Default value: "5"\&.
.RE
.PP
cache\-root\-ttl
.RS 4
Number which specifies the time\-to\-live, in minutes, for the cached version of the repository index page\&. Default value: "5"\&.
.RE
.PP
cache\-size
.RS 4
The maximum number of entries in the cgit cache\&. Default value: "0" (i\&.e\&. caching is disabled)\&.
.RE
.PP
cache\-static\-ttl
.RS 4
Number which specifies the time\-to\-live, in minutes, for the cached version of repository pages accessed with a fixed SHA1\&. Default value: "5"\&.
.RE
.PP
clone\-prefix
.RS 4
Space\-separated list of common prefixes which, when combined with a repository url, generates valid clone urls for the repository\&. This setting is only used if
repo\&.clone\-url
is unspecified\&. Default value: none\&.
.RE
.PP
css
.RS 4
Url which specifies the css document to include in all cgit pages\&. Default value: "/cgit\&.css"\&.
.RE
.PP
enable\-index\-links
.RS 4
Flag which, when set to "1", will make cgit generate extra links for each repo in the repository index (specifically, to the "summary", "commit" and "tree" pages)\&. Default value: "0"\&.
.RE
.PP
enable\-log\-filecount
.RS 4
Flag which, when set to "1", will make cgit print the number of modified files for each commit on the repository log page\&. Default value: "0"\&.
.RE
.PP
enable\-log\-linecount
.RS 4
Flag which, when set to "1", will make cgit print the number of added and removed lines for each commit on the repository log page\&. Default value: "0"\&.
.RE
.PP
favicon
.RS 4
Url used as link to a shortcut icon for cgit\&. If specified, it is suggested to use the value "/favicon\&.ico" since certain browsers will ignore other values\&. Default value: none\&.
.RE
.PP
footer
.RS 4
The content of the file specified with this option will be included verbatim at the bottom of all pages (i\&.e\&. it replaces the standard "generated by\&..." message\&. Default value: none\&.
.RE
.PP
header
.RS 4
The content of the file specified with this option will be included verbatim at the top of all pages\&. Default value: none\&.
.RE
.PP
include
.RS 4
Name of a configfile to include before the rest of the current config\- file is parsed\&. Default value: none\&.
.RE
.PP
index\-header
.RS 4
The content of the file specified with this option will be included verbatim above the repository index\&. This setting is deprecated, and will not be supported by cgit\-1\&.0 (use root\-readme instead)\&. Default value: none\&.
.RE
.PP
index\-info
.RS 4
The content of the file specified with this option will be included verbatim below the heading on the repository index page\&. This setting is deprecated, and will not be supported by cgit\-1\&.0 (use root\-desc instead)\&. Default value: none\&.
.RE
.PP
local\-time
.RS 4
Flag which, if set to "1", makes cgit print commit and tag times in the servers timezone\&. Default value: "0"\&.
.RE
.PP
logo
.RS 4
Url which specifies the source of an image which will be used as a logo on all cgit pages\&.
.RE
.PP
logo\-link
.RS 4
Url loaded when clicking on the cgit logo image\&. If unspecified the calculated url of the repository index page will be used\&. Default value: none\&.
.RE
.PP
max\-commit\-count
.RS 4
Specifies the number of entries to list per page in "log" view\&. Default value: "50"\&.
.RE
.PP
max\-message\-length
.RS 4
Specifies the maximum number of commit message characters to display in "log" view\&. Default value: "80"\&.
.RE
.PP
max\-repo\-count
.RS 4
Specifies the number of entries to list per page on the repository index page\&. Default value: "50"\&.
.RE
.PP
max\-repodesc\-length
.RS 4
Specifies the maximum number of repo description characters to display on the repository index page\&. Default value: "80"\&.
.RE
.PP
max\-stats
.RS 4
Set the default maximum statistics period\&. Valid values are "week", "month", "quarter" and "year"\&. If unspecified, statistics are disabled\&. Default value: none\&. See also: "repo\&.max\-stats"\&.
.RE
.PP
module\-link
.RS 4
Text which will be used as the formatstring for a hyperlink when a submodule is printed in a directory listing\&. The arguments for the formatstring are the path and SHA1 of the submodule commit\&. Default value: "\&./?repo=%s&page=commit&id=%s"
.RE
.PP
nocache
.RS 4
If set to the value "1" caching will be disabled\&. This settings is deprecated, and will not be honored starting with cgit\-1\&.0\&. Default value: "0"\&.
.RE
.PP
renamelimit
.RS 4
Maximum number of files to consider when detecting renames\&. The value "\-1" uses the compiletime value in git (for further info, look at
man git\-diff)\&. Default value: "\-1"\&.
.RE
.PP
repo\&.group
.RS 4
A value for the current repository group, which all repositories specified after this setting will inherit\&. Default value: none\&.
.RE
.PP
robots
.RS 4
Text used as content for the "robots" meta\-tag\&. Default value: "index, nofollow"\&.
.RE
.PP
root\-desc
.RS 4
Text printed below the heading on the repository index page\&. Default value: "a fast webinterface for the git dscm"\&.
.RE
.PP
root\-readme
.RS 4
The content of the file specified with this option will be included verbatim below the "about" link on the repository index page\&. Default value: none\&.
.RE
.PP
root\-title
.RS 4
Text printed as heading on the repository index page\&. Default value: "Git Repository Browser"\&.
.RE
.PP
snapshots
.RS 4
Text which specifies the default (and allowed) set of snapshot formats supported by cgit\&. The value is a space\-separated list of zero or more of the following values: "tar" uncompressed tar\-file "tar\&.gz" gzip\-compressed tar\-file "tar\&.bz2" bzip\-compressed tar\-file "zip" zip\-file Default value: none\&.
.RE
.PP
summary\-branches
.RS 4
Specifies the number of branches to display in the repository "summary" view\&. Default value: "10"\&.
.RE
.PP
summary\-log
.RS 4
Specifies the number of log entries to display in the repository "summary" view\&. Default value: "10"\&.
.RE
.PP
summary\-tags
.RS 4
Specifies the number of tags to display in the repository "summary" view\&. Default value: "10"\&.
.RE
.PP
virtual\-root
.RS 4
Url which, if specified, will be used as root for all cgit links\&. It will also cause cgit to generate
\fIvirtual urls\fR, i\&.e\&. urls like
\fI/cgit/tree/README\fR
as opposed to
\fI?r=cgit&p=tree&path=README\fR\&. Default value: none\&. NOTE: cgit has recently learned how to use PATH_INFO to achieve the same kind of virtual urls, so this option will probably be deprecated\&.
.RE
.SH "REPOSITORY SETTINGS"
.PP
repo\&.clone\-url
.RS 4
A list of space\-separated urls which can be used to clone this repo\&. Default value: none\&.
.RE
.PP
repo\&.defbranch
.RS 4
The name of the default branch for this repository\&. If no such branch exists in the repository, the first branch name (when sorted) is used as default instead\&. Default value: "master"\&.
.RE
.PP
repo\&.desc
.RS 4
The value to show as repository description\&. Default value: none\&.
.RE
.PP
repo\&.enable\-log\-filecount
.RS 4
A flag which can be used to disable the global setting `enable\-log\-filecount\'\&. Default value: none\&.
.RE
.PP
repo\&.enable\-log\-linecount
.RS 4
A flag which can be used to disable the global setting `enable\-log\-linecount\'\&. Default value: none\&.
.RE
.PP
repo\&.max\-stats
.RS 4
Override the default maximum statistics period\&. Valid values are equal to the values specified for the global "max\-stats" setting\&. Default value: none\&.
.RE
.PP
repo\&.name
.RS 4
The value to show as repository name\&. Default value: <repo\&.url>\&.
.RE
.PP
repo\&.owner
.RS 4
A value used to identify the owner of the repository\&. Default value: none\&.
.RE
.PP
repo\&.path
.RS 4
An absolute path to the repository directory\&. For non\-bare repositories this is the \&.git\-directory\&. Default value: none\&.
.RE
.PP
repo\&.readme
.RS 4
A path (relative to <repo\&.path>) which specifies a file to include verbatim as the "About" page for this repo\&. Default value: none\&.
.RE
.PP
repo\&.snapshots
.RS 4
A mask of allowed snapshot\-formats for this repo, restricted by the "snapshots" global setting\&. Default value: <snapshots>\&.
.RE
.PP
repo\&.url
.RS 4
The relative url used to access the repository\&. This must be the first setting specified for each repo\&. Default value: none\&.
.RE
.SH "EXAMPLE CGITRC FILE"
.sp
.RS 4
.nf
# Enable caching of up to 1000 output entriess
cache\-size=1000


# Specify some default clone prefixes
clone\-prefix=git://foobar\&.com ssh://foobar\&.com/pub/git http://foobar\&.com/git

# Specify the css url
css=/css/cgit\&.css


# Show extra links for each repository on the index page
enable\-index\-links=1


# Show number of affected files per commit on the log pages
enable\-log\-filecount=1


# Show number of added/removed lines per commit on the log pages
enable\-log\-linecount=1


# Add a cgit favicon
favicon=/favicon\&.ico


# Use a custom logo
logo=/img/mylogo\&.png


# Enable statistics per week, month and quarter
max\-stats=quarter


# Set the title and heading of the repository index page
root\-title=foobar\&.com git repositories


# Set a subheading for the repository index page
root\-desc=tracking the foobar development


# Include some more info about foobar\&.com on the index page
root\-readme=/var/www/htdocs/about\&.html


# Allow download of tar\&.gz, tar\&.bz2 and zip\-files
snapshots=tar\&.gz tar\&.bz2 zip


##
## List of repositories\&.
## PS: Any repositories listed when repo\&.group is unset will not be
##     displayed under a group heading
## PPS: This list could be kept in a different file (e\&.g\&. \'/etc/cgitrepos\')
##      and included like this:
##        include=/etc/cgitrepos
##


repo\&.url=foo
repo\&.path=/pub/git/foo\&.git
repo\&.desc=the master foo repository
repo\&.owner=fooman@foobar\&.com
repo\&.readme=info/web/about\&.html


repo\&.url=bar
repo\&.path=/pub/git/bar\&.git
repo\&.desc=the bars for your foo
repo\&.owner=barman@foobar\&.com
repo\&.readme=info/web/about\&.html


# The next repositories will be displayed under the \'extras\' heading
repo\&.group=extras


repo\&.url=baz
repo\&.path=/pub/git/baz\&.git
repo\&.desc=a set of extensions for bar users

repo\&.url=wiz
repo\&.path=/pub/git/wiz\&.git
repo\&.desc=the wizard of foo


# Add some mirrored repositories
repo\&.group=mirrors


repo\&.url=git
repo\&.path=/pub/git/git\&.git
repo\&.desc=the dscm


repo\&.url=linux
repo\&.path=/pub/git/linux\&.git
repo\&.desc=the kernel

# Disable adhoc downloads of this repo
repo\&.snapshots=0

# Disable line\-counts for this repo
repo\&.enable\-log\-linecount=0

# Restrict the max statistics period for this repo
repo\&.max\-stats=month
.fi
.RE
.SH "BUGS"
Comments currently cannot appear on the same line as a setting; the comment will be included as part of the value\&. E\&.g\&. this line:
.sp
.sp
.RS 4
.nf
robots=index  # allow indexing
.fi
.RE
will generate the following html element:
.sp
.sp
.RS 4
.nf
<meta name=\'robots\' content=\'index  # allow indexing\'/>
.fi
.RE
.SH "AUTHOR"
Lars Hjemli <hjemli@gmail\&.com>
.sp
